<!doctype html>
<html lang="en">
<head>
<title>devopsengineer-terra</title>
<meta name="generator" content="Etherpad">
<meta name="author" content="Etherpad">
<meta name="changedby" content="Etherpad">
<meta charset="utf-8">
<style>
ol {
  counter-reset: item;
}

ol > li {
  counter-increment: item;
}

ol ol > li {
  display: block;
}

ol > li {
  display: block;
}

ol > li:before {
  content: counters(item, ".") ". ";
}

ol ol > li:before {
  content: counters(item, ".") ". ";
  margin-left: -20px;
}

ul.indent {
  list-style-type: none;
}


</style>
</head>
<body>
Terraform:-<br><a href="https&#x3a;&#x2F;&#x2F;developer&#x2e;hashihttps&#x3a;&#x2F;&#x2F;developer&#x2e;hashicorp&#x2e;com&#x2F;terraform&#x2F;language" rel="noreferrer noopener">https:&#x2F;&#x2F;developer.hashihttps:&#x2F;&#x2F;developer.hashicorp.com&#x2F;terraform&#x2F;language</a><br><a href="https&#x3a;&#x2F;&#x2F;registry&#x2e;terraform&#x2e;io&#x2F;providers&#x2F;kreuzwerker&#x2F;docker&#x2F;2&#x2e;23&#x2e;1" rel="noreferrer noopener">https:&#x2F;&#x2F;registry.terraform.io&#x2F;providers&#x2F;kreuzwerker&#x2F;docker&#x2F;2.23.1</a><br><br>Authenticating Go in Azure , open cloud shell , run this command.<br>&nbsp;<br>az ad sp create-for-rbac --name &lt;service_principal_name&gt; --role Contributor --scopes &#x2F;subscriptions&#x2F;&lt;subscription_id&gt;<br><br>{<br>&nbsp; &quot;appId&quot;: &quot;a6614202-ee96-413d-ab07-914f98ed4772&quot;,&nbsp;&nbsp; =&nbsp; ARM_CLIENT_ID<br>&nbsp; &quot;displayName&quot;: &quot;terraform1&quot;,<br>&nbsp; &quot;password&quot;: &quot;PS48Q~YyVxvnOx54Pt9UG~viPIgAV6jeMqHG4a1F&quot;, =&nbsp; ARM_CLIENT_SECRET<br>&nbsp; &quot;tenant&quot;: &quot;f8a00c8d-0fa8-4da8-bfca-798650068e59&quot;&nbsp; = ARM_TENANT_ID&nbsp;<br>}<br><br>export ARM_SUBSCRIPTION_ID=&quot;318c804a-b650-419d-81a3-1dcc318072a5&quot;<br>export ARM_TENANT_ID=&quot;f8a00c8d-0fa8-4da8-bfca-798650068e59&quot;<br>export ARM_CLIENT_ID=&quot;a6614202-ee96-413d-ab07-914f98ed4772&quot;<br>export ARM_CLIENT_SECRET=&quot;PS48Q~YyVxvnOx54Pt9UG~viPIgAV6jeMqHG4a1F&quot;<br><br>cd&nbsp; - make sure you are in your home directory<br>vim .bashrc&nbsp; and paste all the&nbsp; export variables<br>source .bashrc<br><br>_________________________________________________________________________________________________<br>vim rg.tf<br><br>provider &quot;azurerm&quot; {<br>&nbsp; features{}<br>}<br>&nbsp;<br>resource &quot;azurerm_resource_group&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;rg12&quot;<br>&nbsp; location = &quot;West Europe&quot;<br>}&nbsp;&nbsp;&nbsp;<br>________________________________________________________________________________________________<br>terraform init<br>terraform apply<br>terraform destroy<br>_________________________________________________________________________________________________<br>provider &quot;azurerm&quot; {<br>&nbsp; features{}<br>}&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>resource &quot;azurerm_resource_group&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;rg14&quot;<br>&nbsp; location = &quot;eastus&quot;<br>}&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>resource &quot;azurerm_resource_group&quot; &quot;example1&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;rg15&quot;<br>&nbsp; location = &quot;eastus&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>}&nbsp;&nbsp;<br>______________________________________________________________<br>pub.tf<br><br>resource &quot;azurerm_resource_group&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;rg14&quot;<br>&nbsp; location = &quot;eastus&quot;<br>}<br>&nbsp;<br>resource &quot;azurerm_resource_group&quot; &quot;example1&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;rg15&quot;<br>&nbsp; location = &quot;eastus&quot;<br>}<br>&nbsp;<br>resource &quot;azurerm_public_ip&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;pb1&quot;<br>&nbsp; resource_group_name = azurerm_resource_group.example.name<br>&nbsp; location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = azurerm_resource_group.example.location<br>&nbsp; allocation_method&nbsp;&nbsp; = &quot;Static&quot;<br>&nbsp;<br>&nbsp; tags = {<br>&nbsp;&nbsp;&nbsp; environment = &quot;Production&quot;<br>&nbsp; }<br>}&nbsp;&nbsp;&nbsp;<br>_________________________________________________________________<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;imageReference&quot;: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;publisher&quot;: &quot;microsoftwindowsdesktop&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;offer&quot;: &quot;windows-11&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;sku&quot;: &quot;win11-22h2-pron&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;version&quot;: &quot;latest&quot;<br>Standard D4s v3&nbsp;<br><br>_________________________________________________________________<br>vm .tf<br><br>resource &quot;azurerm_virtual_network&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;example-network&quot;<br>&nbsp; address_space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = [&quot;10.0.0.0&#x2F;16&quot;]<br>&nbsp; location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = azurerm_resource_group.example.location<br>&nbsp; resource_group_name = azurerm_resource_group.example.name<br>}<br><br>resource &quot;azurerm_subnet&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;internal&quot;<br>&nbsp; resource_group_name&nbsp; = azurerm_resource_group.example.name<br>&nbsp; virtual_network_name = azurerm_virtual_network.example.name<br>&nbsp; address_prefixes&nbsp;&nbsp;&nbsp;&nbsp; = [&quot;10.0.2.0&#x2F;24&quot;]<br>}<br><br>resource &quot;azurerm_network_interface&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;example-nic&quot;<br>&nbsp; location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = azurerm_resource_group.example.location<br>&nbsp; resource_group_name = azurerm_resource_group.example.name<br><br>&nbsp; ip_configuration {<br>&nbsp;&nbsp;&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;internal&quot;<br>&nbsp;&nbsp;&nbsp; subnet_id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = azurerm_subnet.example.id<br>&nbsp;&nbsp;&nbsp; private_ip_address_allocation = &quot;Dynamic&quot;<br>&nbsp;&nbsp;&nbsp; public_ip_address_id = azurerm_public_ip.example.id<br>&nbsp; }<br>}<br><br>resource &quot;azurerm_windows_virtual_machine&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;example-machine&quot;<br>&nbsp; resource_group_name = azurerm_resource_group.example.name<br>&nbsp; location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = azurerm_resource_group.example.location<br>&nbsp; size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;Standard_D4s_v3&quot;<br>&nbsp; admin_username&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;adminuser&quot;<br>&nbsp; admin_password&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;P@$$w0rd1234&quot;<br>&nbsp; network_interface_ids = [<br>&nbsp;&nbsp;&nbsp; azurerm_network_interface.example.id,<br>&nbsp; ]<br><br>&nbsp; os_disk {<br>&nbsp;&nbsp;&nbsp; caching&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;ReadWrite&quot;<br>&nbsp;&nbsp;&nbsp; storage_account_type = &quot;Standard_LRS&quot;<br>&nbsp; }<br><br>&nbsp; source_image_reference {<br>&nbsp;&nbsp;&nbsp; publisher = &quot;microsoftwindowsdesktop&quot;<br>&nbsp;&nbsp;&nbsp; offer&nbsp;&nbsp;&nbsp;&nbsp; = &quot;windows-11&quot;<br>&nbsp;&nbsp;&nbsp; sku&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;win11-22h2-pron&quot;<br>&nbsp;&nbsp;&nbsp; version&nbsp;&nbsp; = &quot;latest&quot;<br>&nbsp; }<br>}<br><br><br>________________________________________________________________<br><br>terraform plan -out filename<br><br>terraform apply filename<br><br>terraform destroy -target azurerm_resource_group.example1&nbsp;&nbsp;&nbsp; [ resource.local_name]<br><br>_________________________________________________________<br><br><strong>tainting</strong><br>[root@master terra]# terraform state list<br>azurerm_resource_group.example<br>azurerm_virtual_network.example<br><br>[root@master terra]# terraform taint azurerm_virtual_network.example<br>Resource instance azurerm_virtual_network.example has been marked as tainted.<br>[root@master terra]# terraform state show azurerm_virtual_network.example<br># azurerm_virtual_network.example: (tainted)<br>resource &quot;azurerm_virtual_network&quot; &quot;example&quot; {<br>&nbsp;&nbsp;&nbsp; address_space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = [<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;10.0.0.0&#x2F;8&quot;,<br>&nbsp;&nbsp;&nbsp; ]<br>&nbsp;&nbsp;&nbsp; dns_servers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = []<br>&nbsp;&nbsp;&nbsp; flow_timeout_in_minutes = 0<br>&nbsp;&nbsp;&nbsp; guid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;c7654042-0e51-4eeb-9b03-e550e8e0ef74&quot;<br>&nbsp;&nbsp;&nbsp; id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;&#x2F;subscriptions&#x2F;65da5c0a-bae1-4d94-ae3c-355e353da440&#x2F;resourceGroups&#x2F;test-rg&#x2F;providers&#x2F;Microsoft.Network&#x2F;virtualNetworks&#x2F;test-network&quot;<br>&nbsp;&nbsp;&nbsp; location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;westus&quot;<br>&nbsp;&nbsp;&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;test-network&quot;<br>&nbsp;&nbsp;&nbsp; resource_group_name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;test-rg&quot;<br>&nbsp;&nbsp;&nbsp; subnet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = []<br>}<br><br>[root@master terra]# terraform plan<br>azurerm_resource_group.example: Refreshing state... [id=&#x2F;subscriptions&#x2F;65da5c0a-bae1-4d94-ae3c-355e353da440&#x2F;resourceGroups&#x2F;test-rg]<br>azurerm_virtual_network.example: Refreshing state... [id=&#x2F;subscriptions&#x2F;65da5c0a-bae1-4d94-ae3c-355e353da440&#x2F;resourceGroups&#x2F;test-rg&#x2F;providers&#x2F;Microsoft.Network&#x2F;virtualNetworks&#x2F;test-network]<br><br>Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following<br>symbols:<br>-&#x2F;+ destroy and then create replacement<br><br>Terraform will perform the following actions:<br><br>&nbsp; # azurerm_virtual_network.example is tainted, so must be replaced<br>-&#x2F;+ resource &quot;azurerm_virtual_network&quot; &quot;example&quot; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~ dns_servers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = [] -&gt; (known after apply)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - flow_timeout_in_minutes = 0 -&gt; null<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~ guid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;c7654042-0e51-4eeb-9b03-e550e8e0ef74&quot; -&gt; (known after apply)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~ id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;&#x2F;subscriptions&#x2F;65da5c0a-bae1-4d94-ae3c-355e353da440&#x2F;resourceGroups&#x2F;test-rg&#x2F;providers&#x2F;Microsoft.Network&#x2F;virtualNetworks&#x2F;test-network&quot; -&gt; (known after apply)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;test-network&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~ subnet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = [] -&gt; (known after apply)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - tags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = {} -&gt; null<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # (3 unchanged attributes hidden)<br>&nbsp;&nbsp;&nbsp; }<br><br>Plan: 1 to add, 0 to change, 1 to destroy.<br><br>&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;<br><br>Note: You didn&#x27;t use the -out option to save this plan, so Terraform can&#x27;t guarantee to take exactly these actions if you run &quot;terraform<br>apply&quot; now.<br>[root@master terra]# terraform apply -auto-approve<br>------------<br><strong>output block</strong><br>provider &quot;azurerm&quot; {<br>&nbsp; features {}<br>}<br>resource &quot;azurerm_resource_group&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;test-rg&quot;<br>&nbsp; location = &quot;Westus&quot;<br>}<br>resource &quot;azurerm_virtual_network&quot; &quot;example&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;test-network&quot;<br>&nbsp; resource_group_name = azurerm_resource_group.example.name<br>&nbsp; location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = azurerm_resource_group.example.location<br>&nbsp; address_space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = [&quot;10.0.0.0&#x2F;8&quot;]<br>}<br>output &quot;rgname&quot; {<br>&nbsp; value = azurerm_resource_group.example.name<br>}<br>output &quot;vnetname&quot; {<br>&nbsp; value = azurerm_virtual_network.example.name<br>}<br><br>do&nbsp; terraform init, terraform plan and terraform apply<br>terraform output rgname<br>terraform output vnetname<br>------<br><strong>terraform fmt</strong><br>[root@master terra]# terraform fmt<br><br>-----<br><strong>terraform console</strong><br>[root@master terra]# terraform console<br>&gt; abs(23)<br>23<br>&gt; abs(2.5)<br>2.5<br>&gt; abs(-2.5)<br>2.5<br>&gt; exit<br>------<br><strong>variables</strong><br>The name of a variable can be any valid identifier<em>except</em> the following: source, version, providers, count, for_each, lifecycle, depends_on, locals.<br><br>[root@master terra]# cat main.tf&nbsp;<br>resource &quot;azurerm_resource_group&quot; &quot;resource_group&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = var.resource_group_name<br>&nbsp; location = var.location<br>}<br>[root@master terra]# cat variables.tf&nbsp;<br>variable &quot;resource_group_name&quot; {<br>&nbsp; description = &quot;resource group name&quot;<br>&nbsp; default&nbsp;&nbsp;&nbsp;&nbsp; = &quot;rg-westus&quot;<br>}<br>variable &quot;location&quot; {<br>&nbsp; description = &quot;resource group location&quot;<br>&nbsp; default&nbsp;&nbsp;&nbsp;&nbsp; = &quot;westus&quot;<br>}<br>variable &quot;location2&quot; {<br>&nbsp;default = &quot;eastus&quot;<br>}<br>----------------<br><strong>*.auto.tfvars</strong><br>[root@master terra]# cat variables.tf&nbsp;<br>variable &quot;resource_group_name&quot; {<br>&nbsp; description = &quot;resource group name&quot;<br>&nbsp; default&nbsp;&nbsp;&nbsp;&nbsp; = &quot;rg-westus&quot;<br>}<br>variable &quot;location&quot; {<br>&nbsp; description = &quot;resource group location&quot;<br>&nbsp; default&nbsp;&nbsp;&nbsp;&nbsp; = &quot;westus&quot;<br>}<br>variable &quot;location2&quot; {<br>&nbsp;default = &quot;eastus&quot;<br>}<br>[root@master terra]# cat values.auto.tfvars&nbsp;<br>resource_group_name = &quot;test-rg1&quot;<br>location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;eastus&quot;<br>---------<br><strong>command line variable</strong><br>[root@master terra]# terraform plan -var=&quot;resource_group_name=var-rg&quot; -var=&quot;location=westus&quot; -out varplan<br>terraform apply varplan<br>-----------<br><strong>local values</strong><br>[root@master terra]# cat main.tf&nbsp;<br>resource &quot;azurerm_resource_group&quot; &quot;resource_group&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = var.resource_group_name<br>&nbsp; location = var.location<br>}<br>locals {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;local-name&quot;<br>&nbsp; location = &quot;centralus&quot;<br>}<br>output &quot;name&quot; {<br>&nbsp; value = &quot;the value for name is ${local.name}&quot;<br>}<br>output &quot;location&quot; {<br>&nbsp; value = &quot;the value for location is ${local.location}&quot;<br>}<br>----<br><strong>separating main.tf and output.tf</strong><br>[root@master terra]# cat main.tf&nbsp;<br>resource &quot;azurerm_resource_group&quot; &quot;resource_group&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = var.resource_group_name<br>&nbsp; location = var.location<br>}<br>locals {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;local-name&quot;<br>&nbsp; location = &quot;centralus&quot;<br>&nbsp; result = max(10,100,20)<br>}<br>[root@master terra]# cat outputs.tf&nbsp;<br>output &quot;name&quot; {<br>&nbsp; value = &quot;the value for name is ${local.name}&quot;<br>}&nbsp;&nbsp;<br>output &quot;location&quot; {<br>&nbsp; value = &quot;the value for location is ${local.location}&quot;<br>}&nbsp;&nbsp;<br>output &quot;result&quot; {<br>&nbsp; value = local.result&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>}<br>----------------<br><strong>module creation</strong><br>[root@master ~]# mkdir tfmodule-scripts<br>[root@master ~]# cd tfmodule-scripts&#x2F;<br>[root@master tfmodule-scripts]# ls<br>main.tf&nbsp; variables.tf<br>[root@master tfmodule-scripts]# cat main.tf&nbsp;<br>provider &quot;azurerm&quot;{<br>&nbsp;features {}<br>}<br>resource &quot;azurerm_resource_group&quot; &quot;resource_group&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = var.resource_group_name<br>&nbsp; location = var.location<br>}<br>locals {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = &quot;local-name&quot;<br>&nbsp; location = &quot;centralus&quot;<br>&nbsp; result = max(10,100,20)<br>}<br>[root@master tfmodule-scripts]# cat variables.tf&nbsp;<br>variable &quot;resource_group_name&quot; {<br>&nbsp; description = &quot;resource group name&quot;<br>&nbsp; default&nbsp;&nbsp;&nbsp;&nbsp; = &quot;rg-westus&quot;<br>}<br>variable &quot;location&quot; {<br>&nbsp; description = &quot;resource group location&quot;<br>&nbsp; default&nbsp;&nbsp;&nbsp;&nbsp; = &quot;westus&quot;<br>}<br>variable &quot;location2&quot; {<br>&nbsp; default = &quot;eastus&quot;<br>}<br>--------------<br>[root@master tfmodule-creation]# cat main.tf&nbsp;<br>module &quot;terraform&quot; {<br>&nbsp; source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;&#x2F;root&#x2F;tfmodule-scripts&quot;<br>&nbsp; resource_group_name = &quot;module-rg&quot;<br>&nbsp; location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;westus&quot;<br>}<br>module &quot;terraform2&quot; {<br>&nbsp; source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;&#x2F;root&#x2F;tfmodule-scripts&quot;<br>&nbsp; resource_group_name = &quot;module-rg2&quot;<br>&nbsp; location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;westus&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>}<br>terraform init, terraform plan, terraform apply<br>----------<br><strong>container</strong><br>terraform {<br>&nbsp; required_providers {<br>&nbsp;&nbsp;&nbsp; docker = {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; source&nbsp; = &quot;kreuzwerker&#x2F;docker&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; version = &quot;2.23.1&quot;<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; }<br>}<br><br>provider &quot;docker&quot; {<br>&nbsp; # Configuration options<br>&nbsp; host = &quot;unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock&quot;<br>}<br><br>terraform {<br>&nbsp; required_providers {<br>&nbsp;&nbsp;&nbsp; docker = {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; source&nbsp; = &quot;kreuzwerker&#x2F;docker&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; version = &quot;2.23.1&quot;<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; }<br>}<br><br>provider &quot;docker&quot; {<br>&nbsp; # Configuration options<br>&nbsp; host = &quot;unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock&quot;<br>}<br><br><br>----------<br><strong>docker build using terraform</strong><br>[root@master terraform-docker]# cat Dockerfile&nbsp;<br>FROM ubuntu:22.04<br>ENTRYPOINT [&quot;echo&quot;, &quot;welcome to container&quot;]<br>[root@master terraform-docker]# terraform fmt<br>build.tf<br>first.tf<br>[root@master terraform-docker]# cat build.tf&nbsp;<br>resource &quot;docker_image&quot; &quot;build&quot; {<br>&nbsp; name = &quot;ubuntu&quot;<br>&nbsp; build {<br>&nbsp;&nbsp;&nbsp; path = &quot;.&quot;<br>&nbsp;&nbsp;&nbsp; tag&nbsp; = [&quot;ubuntu:build&quot;]<br>&nbsp; }<br>}<br>--------------<br><strong>use terraform code from github</strong><br><strong>variables.tf</strong><br>variable &quot;ubuntu_image&quot; {<br>description = &quot;ubuntu umage details&quot;<br>type = string<br>}<br>variable &quot;container_name&quot; {<br>description = &quot;name of container&quot;<br>type = string<br>}<br><strong>main.tf</strong><br>terraform {<br>&nbsp; required_providers {<br>&nbsp;&nbsp;&nbsp; docker = {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; source&nbsp; = &quot;kreuzwerker&#x2F;docker&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; version = &quot;2.23.1&quot;<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; }<br>}<br><br>provider &quot;docker&quot; {<br>&nbsp; # Configuration options<br>&nbsp; host = &quot;unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock&quot;<br>}<br><br>resource &quot;docker_image&quot; &quot;ubuntu&quot; {<br>&nbsp; name = var.ubuntu_image<br>}<br><br>resource &quot;docker_container&quot; &quot;ubuntu&quot; {<br>&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp; = var.container_name<br>&nbsp; image&nbsp;&nbsp;&nbsp; = docker_image.ubuntu.image_id<br>&nbsp; must_run = true<br>&nbsp; command = [<br>&nbsp;&nbsp;&nbsp; &quot;tail&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;-f&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;&#x2F;dev&#x2F;null&quot;<br>&nbsp; ]<br>}<br>-------------<br><strong>create module</strong><br>[root@master terraform-git]# cat module.tf&nbsp;<br>module &quot;ubuntu_container&quot; {<br>&nbsp; source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;github.com&#x2F;docdoom12345&#x2F;terraform-docker.git&quot;<br>&nbsp; ubuntu_image&nbsp;&nbsp; = &quot;ubuntu:22.04&quot;<br>&nbsp; container_name = &quot;ubuntu-container-git&quot;<br>}<br>run terraform init, terraform plan, terraform apply<br>-------------<br><strong>terraform validation for input</strong><br>[root@master terraform-testing]# cat test.tf&nbsp;<br>output &quot;testing&quot; {<br>&nbsp; value = var.name<br>}<br>output &quot;condition&quot; {<br>&nbsp; value = var.name == &quot;test&quot; ? &quot;true&quot; : &quot;false&quot;<br>}<br><br>[root@master terraform-testing]# cat variables.tf&nbsp;<br>variable &quot;name&quot; {<br>&nbsp; type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = string<br>&nbsp; description = &quot;The name for some resource. Must be more than 5 characters&quot;<br>&nbsp; default&nbsp;&nbsp;&nbsp;&nbsp; = &quot;testing&quot;<br>&nbsp; validation {<br>&nbsp;&nbsp;&nbsp; condition&nbsp;&nbsp;&nbsp;&nbsp; = length(var.name) &gt; 5<br>&nbsp;&nbsp;&nbsp; error_message = &quot;The name must be more than 5 characters.&quot;<br>&nbsp; }<br>}<br>--------------------------<br><strong>maven commands</strong><br>mvn clean -&gt; removes all files from previous build<br>mvn compile -&gt; compile the project<br>mvn test -&gt; test the project<br>mvn package -&gt; create JAR&#x2F;WAR file<br>mvn install -&gt; deploys package to local repository<br>mvn deploy -&gt; share package to others via remote repository<br><br>validate -&gt; ensure all files are available to build project<br>compile -&gt; compile the source code of project<br>test -&gt; perform some tests on code<br>package -&gt; create a JAR &#x2F; WAR file<br>verify -&gt; check if package is correct&#x2F;valid<br>install -&gt; install package to local repository<br>deploy -&gt; share packages over remote repository<br><br><strong>MAVEN</strong><br>[student@worker2 ~]$ sudo yum install maven -y&nbsp;&nbsp;<br><br>[student@worker2 ~]$ mvn -v<br>Apache Maven 3.0.5 (Red Hat 3.0.5-17)<br>Maven home: &#x2F;usr&#x2F;share&#x2F;maven<br>Java version: 1.8.0_352, vendor: Red Hat, Inc.<br>Java home: &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-1.8.0-openjdk-1.8.0.352.b08-2.el7_9.x86_64&#x2F;jre<br>Default locale: en_US, platform encoding: UTF-8<br>OS name: &quot;linux&quot;, version: &quot;3.10.0-1160.6.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;<br><br><strong>Building a maven project</strong><br>[student@worker2 ~]$ mvn archetype:generate -DgroupId=com.example \<br>&gt; -DartifactId=HelloWorld -DpackageName=com.example \<br>&gt; -Dversion=1.0-SNAPSHOT -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false<br><br>or<br><br>[student@worker2 ~]$mvn archetype:generate -DgroupId=com.example -DartifactId=HelloWorld -DpackageName=com.example -Dversion=1.0-SNAPSHOT -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false<br>[student@worker2 ~]$ cd HelloWorld<br>[student@worker2 HelloWorld]$ mvn clean install<br>[student@worker2 HelloWorld]$ java -cp target&#x2F;HelloWorld-1.0-SNAPSHOT.jar com.example.App<br>Hello World!<br>---------------------------------------<br><strong>ECLIPSE</strong><br><a href="https&#x3a;&#x2F;&#x2F;www&#x2e;eclipse&#x2e;org&#x2F;downloads&#x2F;packages&#x2F;" rel="noreferrer noopener">https:&#x2F;&#x2F;www.eclipse.org&#x2F;downloads&#x2F;packages&#x2F;</a><br><a href="https&#x3a;&#x2F;&#x2F;www&#x2e;eclipse&#x2e;org&#x2F;downloads&#x2F;download&#x2e;php&#x3f;file&#x3d;&#x2F;technology&#x2F;epp&#x2F;downloads&#x2F;release&#x2F;2022&#x2d;12&#x2F;R&#x2F;eclipse&#x2d;jee&#x2d;2022&#x2d;12&#x2d;R&#x2d;linux&#x2d;gtk&#x2d;x86&#x5f;64&#x2e;tar&#x2e;gz" rel="noreferrer noopener">https:&#x2F;&#x2F;www.eclipse.org&#x2F;downloads&#x2F;download.php?file=&#x2F;technology&#x2F;epp&#x2F;downloads&#x2F;release&#x2F;2022-12&#x2F;R&#x2F;eclipse-jee-2022-12-R-linux-gtk-x86_64.tar.gz</a><br><br><strong>Dependency</strong><br>project - root element of POM<br>modelVersion - should be 4.0.0<br>groupID - unique ID for project group<br>artifactID - unique ID for project<br>version - version of artifact<br>packaging - jar,war<br>name - name of maven project<br>URL - url of project<br>dependencies - list dependencies<br>dependency - list details of 1 dependency<br><br><strong>dependency scopes</strong><br>test - needed during testing<br><br>compile - default scope<br><br>provided - dependency is available on system where app is deployed (JDK)<br><br>runtime - needed during execution<br><br>system - point to specific jar in system (deprecated)<br>========================<br><strong>install eclipse</strong><br>[student@worker2 ~]$ cd Downloads&#x2F;<br>[student@worker2 Downloads]$ ls<br>eclipse-jee-2022-12-R-linux-gtk-x86_64.tar.gz&nbsp;&nbsp;<br>[student@worker2 Downloads]$&nbsp; tar xvzf eclipse-jee-2022-12-R-linux-gtk-x86_64.tar.gz&nbsp;<br>[student@worker2 Downloads]$ sudo mv eclipse &#x2F;opt&#x2F;<br>[student@worker2 Downloads]$ ls &#x2F;opt&#x2F;<br>eclipse&#x2F;<br>[student@worker2 Downloads]$ sudo cat &#x2F;usr&#x2F;share&#x2F;applications&#x2F;eclipse.desktop<br>[Desktop Entry]<br>Name=Eclipse<br>Type=Application<br>Exec=&#x2F;opt&#x2F;eclipse&#x2F;eclipse<br>Terminal=false<br>Icon=&#x2F;opt&#x2F;eclipse&#x2F;icon.xpm<br>Comment=Integrated Development Environment<br>NoDisplay=false<br>Categories=Development;IDE;<br>Name[en]=eclipse.desktop<br>X-Desktop-File-Install-Version=0.23<br><br>[student@worker2 Downloads]$ sudo desktop-file-install &#x2F;usr&#x2F;share&#x2F;applications&#x2F;eclipse.desktop<br>[student@worker2 Downloads]$ cd &#x2F;usr&#x2F;local&#x2F;bin&#x2F;<br>[student@worker2 bin]$ sudo ln -s &#x2F;opt&#x2F;eclipse&#x2F;eclipse<br>---------------------<br><strong>Maven super POM</strong><br><a href="https&#x3a;&#x2F;&#x2F;maven&#x2e;apache&#x2e;org&#x2F;ref&#x2F;3&#x2e;0&#x2e;4&#x2F;maven&#x2d;model&#x2d;builder&#x2F;super&#x2d;pom&#x2e;html" rel="noreferrer noopener">https:&#x2F;&#x2F;maven.apache.org&#x2F;ref&#x2F;3.0.4&#x2F;maven-model-builder&#x2F;super-pom.html</a><br><br><strong>Maven effective pom</strong><br>[student@worker2 HelloWorld]$ mvn help:effective-pom<br>----------------------<br><strong>Apache tomcat</strong><br><a href="https&#x3a;&#x2F;&#x2F;tomcat&#x2e;apache&#x2e;org&#x2F;download&#x2d;90&#x2e;cgi" rel="noreferrer noopener">https:&#x2F;&#x2F;tomcat.apache.org&#x2F;download-90.cgi</a><br><a href="https&#x3a;&#x2F;&#x2F;dlcdn&#x2e;apache&#x2e;org&#x2F;tomcat&#x2F;tomcat&#x2d;9&#x2F;v9&#x2e;0&#x2e;70&#x2F;bin&#x2F;apache&#x2d;tomcat&#x2d;9&#x2e;0&#x2e;70&#x2e;tar&#x2e;gz" rel="noreferrer noopener">https:&#x2F;&#x2F;dlcdn.apache.org&#x2F;tomcat&#x2F;tomcat-9&#x2F;v9.0.70&#x2F;bin&#x2F;apache-tomcat-9.0.70.tar.gz</a><br>[student@worker2 Downloads]$&nbsp;<br>[student@worker2 Downloads]$ ls<br>apache-tomcat-9.0.70 apache-tomcat-9.0.70.tar.gz&nbsp;<br><br><strong>Accessing web project</strong><br>archetype -&gt; maven-archetype-webapp<br><a href="http&#x3a;&#x2F;&#x2F;localhost&#x3a;8080&#x2F;MavenWeb&#x2F;" rel="noreferrer noopener">http:&#x2F;&#x2F;localhost:8080&#x2F;MavenWeb&#x2F;</a>&nbsp;&nbsp;&nbsp; -&gt; server&#x2F;project<br><br><strong>multi module maven project</strong><br>In pom.xml, add the following line to parent project<br>&lt;packaging&gt;pom&lt;&#x2F;packaging&gt;<br><br><strong>dependency exclusion</strong><br>&lt;dependency&gt;<br>&lt;exclusions&gt;<br>&lt;exclusion&gt;<br>&lt;groupId&gt;...&lt;&#x2F;groupId&gt;<br>&lt;artifactId&gt;...&lt;&#x2F;artifactId&gt;<br>&lt;&#x2F;exclusion&gt;<br>&lt;&#x2F;exclusions&gt;<br>&lt;&#x2F;dependency&gt;<br>---------------------------------<br><strong>Azure devops</strong><br><a href="https&#x3a;&#x2F;&#x2F;azure&#x2e;microsoft&#x2e;com&#x2F;en&#x2d;in&#x2F;products&#x2F;devops&#x2F;&#x23;overview" rel="noreferrer noopener">https:&#x2F;&#x2F;azure.microsoft.com&#x2F;en-in&#x2F;products&#x2F;devops&#x2F;#overview</a><br><a href="https&#x3a;&#x2F;&#x2F;aex&#x2e;dev&#x2e;azure&#x2e;com&#x2F;" rel="noreferrer noopener">https:&#x2F;&#x2F;aex.dev.azure.com&#x2F;</a><br><br><strong>Create a file azure-pipelines.yml</strong><br>trigger:<br>- none<br>stages:<br>&nbsp; - stage: runshellscript<br>&nbsp;&nbsp;&nbsp; jobs:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - job: runscript<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continueOnError: False<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; steps:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - task: Bash@3<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inputs:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; targetType: &#x27;inline&#x27;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; script: |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Write your commands here<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &#x27;Hello world&#x27;<br><br><br>---------<br><strong>jenkins</strong><br>*sudo wget -O &#x2F;etc&#x2F;yum.repos.d&#x2F;jenkins.repo <a href="https&#x3a;&#x2F;&#x2F;pkg&#x2e;jenkins&#x2e;io&#x2F;redhat&#x2F;jenkins&#x2e;repo" rel="noreferrer noopener">https:&#x2F;&#x2F;pkg.jenkins.io&#x2F;redhat&#x2F;jenkins.repo</a> --no-check-certificate<br>sudo rpm --import <a href="https&#x3a;&#x2F;&#x2F;pkg&#x2e;jenkins&#x2e;io&#x2F;redhat&#x2F;jenkins&#x2e;io&#x2e;key" rel="noreferrer noopener">https:&#x2F;&#x2F;pkg.jenkins.io&#x2F;redhat&#x2F;jenkins.io.key</a><br>sudo yum install java-11-openjdk<br>sudo yum install jenkins<br><br>[root@master ~]# systemctl enable jenkins --now<br>Created symlink from &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;multi-user.target.wants&#x2F;jenkins.service to &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;jenkins.service.<br>[root@master ~]# firewall-cmd --permanent --add-port=8080&#x2F;tcp&nbsp;<br>FirewallD is not running<br>[root@master ~]# firewall-cmd --reload<br>FirewallD is not running<br><br>[root@master ~]#cat &#x2F;var&#x2F;lib&#x2F;jenkins&#x2F;secrets&#x2F;initialAdminPassword<br><br>whoami<br>pwd<br>ls -l<br>echo &quot;first jenkins job&quot;<br>----------------------------------<br>[root@master ~]# yum install httpd -y<br>[root@master ~]# systemctl enable httpd --now<br><br><strong>On worker2 - create web page</strong><br>[student@worker2 ~]$ mkdir webdir<br>[student@worker2 ~]$ cd webdir&#x2F;<br>[student@worker2 webdir]$ git init<br>Initialized empty Git repository in&nbsp; &#x2F;home&#x2F;student&#x2F;webdir&#x2F;.git&#x2F;<br>[student@worker2 webdir]$ ls<br>[student@worker2 webdir]$ git status<br># On branch master<br>#<br># Initial commit<br>#<br>nothing to commit (create&#x2F;copy files and use &quot;git add&quot; to track)<br>[student@worker2 webdir]$ git config --global user.name docdoom12345<br>[student@worker2 webdir]$ git config --global user.email docdoom12345@outlook.com<br>[student@worker2 webdir]$ vim index.html<br>[student@worker2 webdir]$ cat index.html&nbsp;<br>&lt;h1&gt;Welcome to the home page of our website &lt;&#x2F;h1&gt;<br>[student@worker2 webdir]$ git add index.html<br>[student@worker2 webdir]$ git status<br># On branch master<br>#<br># Initial commit<br>#<br># Changes to be committed:<br>#&nbsp;&nbsp; (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)<br>#<br>#&nbsp;&nbsp;&nbsp; new file:&nbsp;&nbsp; index.html<br>#<br>[student@worker2 webdir]$ git commit -m &quot;index.html created&quot;<br>[master (root-commit) 32fb395] index.html created<br>&nbsp;1 file changed, 1 insertion(+)<br>&nbsp;create mode 100644 index.html<br>[student@worker2 webdir]$ git status<br># On branch master<br>nothing to commit, working directory clean<br>[student@worker2 webdir]$ git remote add origin <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;docdoom12345&#x2F;newwebrepo&#x2e;git" rel="noreferrer noopener">https:&#x2F;&#x2F;github.com&#x2F;docdoom12345&#x2F;newwebrepo.git</a><br>[student@worker2 webdir]$ git push origin master<br>------------------------------<br><strong>host web page</strong><br>[root@master ~]# visudo<br>jenkins ALL=(ALL)&nbsp;&nbsp;&nbsp;&nbsp; NOPASSWD: ALL<br><br><strong>In jenkins job,</strong><br>add github repo under source code management<br><br>sudo rm -rf newwebrepo<br>git clone <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;docdoom12345&#x2F;newwebrepo&#x2e;git" rel="noreferrer noopener">https:&#x2F;&#x2F;github.com&#x2F;docdoom12345&#x2F;newwebrepo.git</a><br>cd newwebrepo<br>ls&nbsp;<br>sudo cp -rvf * &#x2F;var&#x2F;www&#x2F;html<br><br><strong>verification</strong><br><a href="http&#x3a;&#x2F;&#x2F;localhost&#x2F;" rel="noreferrer noopener">http:&#x2F;&#x2F;localhost&#x2F;</a><br>--------------------------------<br><strong>&nbsp;to run jenkins job automatically</strong><br>&nbsp;jenkins job -&gt; build trigger -&gt; poll SCM -&gt; give * * * * *<br>&nbsp;update github repo and job will run automatically.<br>&nbsp;===================<br><strong>&nbsp;run remote job using SSH</strong><br>&nbsp;install SSH plugin<br>&nbsp;add credentials for student account<br>&nbsp;add worker1 ip<br><strong>&nbsp;create job&nbsp;</strong><br>&nbsp;build steps -&gt; execute shell on remote host using SSH<br>&nbsp;sudo rm -rf newwebrepo<br>git clone <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;docdoom12345&#x2F;newwebrepo&#x2e;git" rel="noreferrer noopener">https:&#x2F;&#x2F;github.com&#x2F;docdoom12345&#x2F;newwebrepo.git</a><br>cd newwebrepo<br>sudo cp -rvf * &#x2F;var&#x2F;www&#x2F;html<br>
</body>
</html>
